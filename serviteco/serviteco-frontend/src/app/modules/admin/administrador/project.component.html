<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
            <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-12">
                <!-- Avatar and name -->
                <div class="flex flex-auto items-center min-w-0">
                    <div class="flex-0 w-16 h-16 rounded-full overflow-hidden">
                        <!-- <img class="w-full h-full object-cover" src="assets/images/serviteco/Simbolo_Serviteco.png">  -->
                        <img class="w-full h-full object-cover" *ngIf="imagenBase64Empresa" [src]="imagenBase64Empresa">
                    </div>
                    <div class="flex flex-col min-w-0 ml-4">
                        <ng-container *transloco="let t">
                            <div
                                class="text-2xl md:text-5xl font-semibold tracking-tight leading-7 md:leading-snug truncate">
                                Bienvenido, {{user?.name}}!</div>
                        </ng-container>
                        <div class="flex items-center">
                            <div class="ml-1.5 leading-6 truncate text-secondary">Este es el portal para la gestión de
                                los servicios técnicos agroforestales</div>
                        </div>
                    </div>
                </div>
                <!-- Actions -->
                <div class="flex items-center mt-6 sm:mt-0 sm:ml-5 space-x-3 w-90">
                    <!-- <img src="/assets/images/serviteco/Logo_Serviteco_Texto.png">-->
                    <img *ngIf="imagenBase64Empresa" [src]="imagenBase64Empresa">
                </div>
            </div>
        </div>
    </div>

    <!-- Administrador -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6" *ngIf="panelAdministrador">


        <div class="w-full max-w-screen-xl mx-auto">
            <!-- Tabs -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Summary -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Usuarios</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">{{
                            estadisticas?.usuarios }}</div>
                        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Usuarios</div>
                    </div>
                </div>
                <!-- Overdue -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Productos</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-red-500">{{
                            estadisticas?.productos }}</div>
                        <div class="text-lg font-medium text-red-600 dark:text-red-500">Productos</div>
                    </div>
                </div>
                <!-- Features -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Importadores</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-green-500">{{
                            estadisticas?.importadoras }}</div>
                        <div class="text-lg font-medium text-green-600 dark:text-green-500">Importadores
                        </div>
                    </div>
                </div>

                <!-- Issues -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Distribuidores</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-amber-500">{{
                            estadisticas?.distribuidoras }}</div>
                        <div class="text-lg font-medium text-amber-600 dark:text-amber-500">Distribuidores</div>
                    </div>
                </div>

                <!-- Issues -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Talleres</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-amber-500">{{
                            estadisticas?.talleres }}</div>
                        <div class="text-lg font-medium text-amber-600 dark:text-amber-500">Talleres</div>
                    </div>
                </div>

            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Github issues summary -->
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Diagrama de correlaciones
                        </div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <div #chartContainer id="chartContainer"></div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Github issues summary -->
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Gestión general</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <!-- Overview -->
                        <div class="flex flex-col">
                            <div class="flex-auto grid grid-cols-4 gap-5 mt-6">

                                <!-- Fixed -->
                                <div style="cursor: pointer;" [routerLink]="'/gestion-usuarios'"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:users'"></mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Usuarios</div>
                                </div>

                                <!-- Won't fix -->
                                <div style="cursor: pointer;" routerLink="/gestion-productos"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:hashtag'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Productos</div>
                                </div>
                                <!-- Re-opened -->
                                <div style="cursor: pointer;" routerLink="/carga-masiva"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:cube'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Carga masiva de productos</div>
                                </div>
                                <!-- Needs triage -->
                                <div style="cursor: pointer;" routerLink="/gestion-solicitudes"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:clipboard-check'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Solicitudes</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Geolocalización
                        </div>
                        <section class="example-section">
                            <mat-checkbox class="example-margin" [(ngModel)]="viewProductos">Productos
                                ({{countProductos}})</mat-checkbox>
                            <mat-checkbox class="example-margin ml-4" [(ngModel)]="viewDistribuidores">Distribuidores
                                ({{countDistribuidores}})
                            </mat-checkbox>
                            <mat-checkbox class="example-margin ml-4" [(ngModel)]="viewTalleres">Talleres
                                ({{countTalleres}})</mat-checkbox>
                        </section>
                    </div>

                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">

                        <agm-map class="map-container mt-5" [zoom]="zoom" [latitude]="lat" [longitude]="lng"
                            [fullscreenControl]="false" [rotateControl]="false" [scrollwheel]="false"
                            [streetViewControl]="false">
                            <agm-data-layer [geoJson]="geoJsonObject" (layerClick)="clicked($event)"
                                [style]="styleFunc">

                            </agm-data-layer>
                            <ng-container *ngIf="viewTalleres">
                                <agm-marker *ngFor="let talleres of listaTalleresAutorizados"
                                    [latitude]="talleres.latitud" [longitude]="talleres.longitud" [styles]="styles"
                                    [iconUrl]="iconTaller">

                                    <agm-info-window [disableAutoPan]="false">
                                        <strong>{{talleres.nombre}}</strong>
                                        <div>
                                            {{talleres.direccion}}
                                        </div>
                                        <div>
                                            Teléfono: {{talleres.telefono}}
                                        </div>
                                    </agm-info-window>

                                </agm-marker>
                            </ng-container>
                            <ng-container *ngIf="viewDistribuidores">
                                <agm-marker *ngFor="let marker of listaDistribuidores" [latitude]="marker.latitud"
                                    [longitude]="marker.longitud" [styles]="styles" [iconUrl]="iconDistribuidor">

                                    <agm-info-window [disableAutoPan]="false">
                                        <strong>{{marker.nombre}}</strong>
                                        <div>
                                            {{marker.direccion}}
                                        </div>
                                        <div>
                                            Teléfono: {{marker.telefono}}
                                        </div>
                                    </agm-info-window>

                                </agm-marker>
                            </ng-container>
                            <ng-container *ngIf="viewProductos">
                                <agm-marker *ngFor="let marker of listaProductos" [latitude]="marker.latitud"
                                    [longitude]="marker.longitud" [styles]="styles" [iconUrl]="iconProductos">

                                    <agm-info-window [disableAutoPan]="false">
                                        <strong>{{marker.nombres}} {{marker.apellidos}}</strong>
                                        <br>
                                        <strong>Referencia: {{marker.referencia}}</strong>
                                        <div>
                                            {{marker.direccion}}
                                        </div>
                                        <div>
                                            Teléfono: {{marker.telefono}}
                                        </div>
                                    </agm-info-window>

                                </agm-marker>
                            </ng-container>
                        </agm-map>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Header -->
    <div class="relative pt-8 pb-28 px-4 sm:pt-20 sm:pb-48 sm:px-16 overflow-hidden bg-gray-800 dark:bg-gray-900 dark"
        *ngIf="panelAdministrador">
        <!-- Background - @formatter:off -->
        <!-- Rings -->
        <svg class="absolute inset-0 pointer-events-none" viewBox="0 0 960 540" width="100%" height="100%"
            preserveAspectRatio="xMidYMax slice" xmlns="http://www.w3.org/2000/svg">
            <g class="text-gray-700 opacity-25" fill="none" stroke="currentColor" stroke-width="100">
                <circle r="234" cx="196" cy="23"></circle>
                <circle r="234" cx="790" cy="491"></circle>
            </g>
        </svg>
        <!-- @formatter:on -->
        <div class="z-10 relative flex flex-col items-center">
            <div class="mt-1 text-4xl sm:text-7xl font-extrabold tracking-tight leading-tight text-center">
                Centro de búsqueda avanzada
            </div>
            <div class="mt-3 sm:text-2xl text-center tracking-tight text-secondary">
                Puedes realizar la búsqueda de un producto por propietario o serial del producto
            </div>
            <!-- Recurring selector -->
            <form [formGroup]="administracionForm">
                <div
                    class="flex items-center mt-8 sm:mt-16 p-0.5 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700">
                    <button class="px-6" [ngClass]="{'bg-card pointer-events-none shadow': tipoBusqueda,
                                    'bg-transparent': !tipoBusqueda}" mat-flat-button (click)="tipoBusqueda = true"
                        disableRipple>
                        Búsqueda por propietario
                    </button>
                    <button class="px-6" [ngClass]="{'bg-card pointer-events-none shadow': !tipoBusqueda,
                                    'bg-transparent': tipoBusqueda}" mat-flat-button (click)="tipoBusqueda = false"
                        disableRipple>
                        Búsqueda por Serial
                    </button>
                </div>
                <mat-form-field
                    class="fuse-mat-no-subscript fuse-mat-rounded fuse-mat-bold w-full max-w-80 sm:max-w-120 mt-10 sm:mt-20">
                    <input matInput
                        [placeholder]="tipoBusqueda ? 'Ingresa identificación del propietario' : 'Ingresa serial del producto'"
                        [formControlName]="'identificacion'" (keyup.enter)="buscarProducto()">
                    <mat-icon matSuffix [svgIcon]="'heroicons_outline:search'" (click)="buscarProducto()"></mat-icon>
                </mat-form-field>
            </form>
        </div>
    </div>


    <!-- Importador -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6" *ngIf="panelImportador">
        <div class="w-full max-w-screen-xl mx-auto">
            <!-- Tabs -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Usuarios -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Usuarios</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">{{
                            estadisticas?.usuarios }}</div>
                        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Usuarios activos</div>
                    </div>
                </div>
                <!-- Productos -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Productos</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-red-500">{{
                            estadisticas?.productos }}</div>
                        <div class="text-lg font-medium text-red-600 dark:text-red-500">Productos registrados</div>
                    </div>
                </div>
                <!-- Solicitudes -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Solicitudes</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-green-500">{{
                            estadisticas?.solicitudes }}</div>
                        <div class="text-lg font-medium text-green-600 dark:text-green-500">Solicitudes
                        </div>
                    </div>
                </div>
                <!-- Distribuidores -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Talleres</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-amber-500">{{
                            estadisticas?.talleres }}</div>
                        <div class="text-lg font-medium text-amber-600 dark:text-amber-500">Talleres</div>
                    </div>
                </div>

                <!-- Correlación de distribuidores -->
                <div
                    class="sm:col-span-2 md:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Correlación de distribuidores
                            autorizados</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <div #chartContainerDistribuidores id="chartContainerDistribuidores"></div>
                    </div>
                </div>

                <!-- Correlación de talleres -->
                <div
                    class="sm:col-span-2 md:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Correlación de talleres
                            autorizados</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <div #chartContainerTalleres id="chartContainerTalleres"></div>
                    </div>
                </div>

                <!-- Gestion general -->
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Gestión general</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">

                        <div class="flex flex-col">
                            <div class="flex-auto grid grid-cols-4 gap-5 mt-6">

                                <!-- Productos -->
                                <div style="cursor: pointer;" routerLink="/gestion-productos"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:hashtag'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Productos</div>
                                </div>

                                <!-- Carga Masiva -->
                                <div style="cursor: pointer;" routerLink="/carga-masiva"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:cube'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Carga masiva de productos</div>
                                </div>

                                <!-- Needs triage -->
                                <div style="cursor: pointer;" routerLink="/gestion-solicitudes"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:clipboard-check'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Solicitudes</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
            <div
                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex flex-col sm:flex-row items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">Geolocalización de
                        información de la importadora
                    </div>
                    <section class="example-section">
                        <mat-checkbox class="example-margin" [(ngModel)]="viewProductos">Productos</mat-checkbox>
                        <mat-checkbox class="example-margin ml-4" [(ngModel)]="viewDistribuidores">Distribuidores
                        </mat-checkbox>
                        <mat-checkbox class="example-margin ml-4" [(ngModel)]="viewTalleres">Talleres</mat-checkbox>
                    </section>
                </div>

                <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">

                    <agm-map class="map-container mt-5" [zoom]="zoom" [latitude]="lat" [longitude]="lng"
                        [fullscreenControl]="false" [rotateControl]="false" [scrollwheel]="false"
                        [streetViewControl]="false">
                        <agm-data-layer [geoJson]="geoJsonObject" (layerClick)="clicked($event)" [style]="styleFunc">

                        </agm-data-layer>
                        <ng-container *ngIf="viewTalleres">
                            <agm-marker *ngFor="let talleres of listaTalleresAutorizados" [latitude]="talleres.latitud"
                                [longitude]="talleres.longitud" [styles]="styles" [iconUrl]="iconTaller">

                                <agm-info-window [disableAutoPan]="false">
                                    <strong>{{talleres.nombre}}</strong>
                                    <div>
                                        {{talleres.direccion}}
                                    </div>
                                    <div>
                                        Teléfono: {{talleres.telefono}}
                                    </div>
                                </agm-info-window>

                            </agm-marker>
                        </ng-container>
                        <ng-container *ngIf="viewDistribuidores">
                            <agm-marker *ngFor="let marker of listaDistribuidores" [latitude]="marker.latitud"
                                [longitude]="marker.longitud" [styles]="styles" [iconUrl]="iconDistribuidor">

                                <agm-info-window [disableAutoPan]="false">
                                    <strong>{{marker.nombre}}</strong>
                                    <div>
                                        {{marker.direccion}}
                                    </div>
                                    <div>
                                        Teléfono: {{marker.telefono}}
                                    </div>
                                </agm-info-window>

                            </agm-marker>
                        </ng-container>
                        <ng-container *ngIf="viewProductos">
                            <agm-marker *ngFor="let marker of listaProductos" [latitude]="marker.latitud"
                                [longitude]="marker.longitud" [styles]="styles" [iconUrl]="iconProductos">

                                <agm-info-window [disableAutoPan]="false">
                                    <strong>{{marker.nombres}} {{marker.apellidos}}</strong>
                                    <br>
                                    <strong>Referencia: {{marker.referencia}}</strong>
                                    <div>
                                        {{marker.direccion}}
                                    </div>
                                    <div>
                                        Teléfono: {{marker.telefono}}
                                    </div>
                                </agm-info-window>

                            </agm-marker>
                        </ng-container>


                    </agm-map>

                </div>
            </div>
        </div>
    </div>

    <!-- Distribuidor -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6" *ngIf="panelDistribuidor">
        <div class="w-full max-w-screen-xl mx-auto">

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Usuarios -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Usuarios</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">{{
                            estadisticas?.usuarios }}</div>
                        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Usuarios activos</div>
                    </div>
                </div>
                <!-- Productos -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Productos</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-red-500">{{
                            estadisticas?.productos }}</div>
                        <div class="text-lg font-medium text-red-600 dark:text-red-500">Productos registrados</div>
                    </div>
                </div>
                <!-- Solicitudes -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Solicitudes</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-green-500">{{
                            estadisticas?.solicitudes }}</div>
                        <div class="text-lg font-medium text-green-600 dark:text-green-500">Solicitudes
                        </div>
                    </div>
                </div>

                <!-- Issues -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Talleres Autorizados</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-amber-500">{{
                            estadisticas?.talleres }}</div>
                        <div class="text-lg font-medium text-amber-600 dark:text-amber-500">Talleres</div>
                    </div>
                </div>

                <!-- Correlación de distribuidores -->
                <div
                    class="sm:col-span-2 md:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Correlación de distribuidores
                            autorizados</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <div #chartContainerDistribuidores id="chartContainerDistribuidores"></div>
                    </div>
                </div>

                <!-- Correlación de talleres -->
                <div
                    class="sm:col-span-2 md:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Correlación de talleres
                            autorizados</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <div #chartContainerTalleres id="chartContainerTalleres"></div>
                    </div>
                </div>

                <!-- Gestion General -->
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Gestión general</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">

                        <div class="flex flex-col">
                            <div class="flex-auto grid grid-cols-3 gap-5 mt-6">

                                <!-- Productos -->
                                <div style="cursor: pointer;" routerLink="/gestion-productos"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:hashtag'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Productos</div>
                                </div>
                                <!-- Carga masiva -->
                                <div style="cursor: pointer;" routerLink="/carga-masiva"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:cube'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Carga masiva de productos</div>
                                </div>
                                <!-- Solicitudes -->
                                <div style="cursor: pointer;" routerLink="/gestion-solicitudes"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:clipboard-check'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Solicitudes</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
            <div
                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                <div class="flex flex-col sm:flex-row items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">Geolocalización de
                        información de la distribuidora
                    </div>
                    <section class="example-section">
                        <mat-checkbox class="example-margin" [(ngModel)]="viewProductos">Productos</mat-checkbox>
                        <mat-checkbox class="example-margin ml-4" [(ngModel)]="viewTalleres">Talleres</mat-checkbox>
                    </section>
                </div>

                <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">

                    <agm-map class="map-container mt-5" [zoom]="zoom" [latitude]="lat" [longitude]="lng"
                        [fullscreenControl]="false" [rotateControl]="false" [scrollwheel]="false"
                        [streetViewControl]="false">
                        <agm-data-layer [geoJson]="geoJsonObject" (layerClick)="clicked($event)" [style]="styleFunc">

                        </agm-data-layer>
                        <ng-container *ngIf="viewTalleres">
                            <agm-marker *ngFor="let talleres of listaTalleresAutorizados" [latitude]="talleres.latitud"
                                [longitude]="talleres.longitud" [styles]="styles" [iconUrl]="iconTaller">

                                <agm-info-window [disableAutoPan]="false">
                                    <strong>{{talleres.nombre}}</strong>
                                    <div>
                                        {{talleres.direccion}}
                                    </div>
                                    <div>
                                        Teléfono: {{talleres.telefono}}
                                    </div>
                                </agm-info-window>

                            </agm-marker>
                        </ng-container>
                        <ng-container *ngIf="viewProductos">
                            <agm-marker *ngFor="let marker of listaProductos" [latitude]="marker.latitud"
                                [longitude]="marker.longitud" [styles]="styles" [iconUrl]="iconProductos">

                                <agm-info-window [disableAutoPan]="false">
                                    <strong>{{marker.nombres}} {{marker.apellidos}}</strong>
                                    <br>
                                    <strong>Referencia: {{marker.referencia}}</strong>
                                    <div>
                                        {{marker.direccion}}
                                    </div>
                                    <div>
                                        Teléfono: {{marker.telefono}}
                                    </div>
                                </agm-info-window>

                            </agm-marker>
                        </ng-container>


                    </agm-map>

                </div>
            </div>
        </div>
    </div>

    <!-- Taller autorizado -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6" *ngIf="panelTallerAutorizado">
        <div class="w-full max-w-screen-xl mx-auto">

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Github issues summary -->
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Gestión general</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <!-- Overview -->
                        <div class="flex flex-col">
                            <div class="flex-auto grid grid-cols-4 gap-5 mt-6">
                                <!-- Needs triage -->
                                <div style="cursor: pointer;" routerLink="/gestion-solicitudes"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:clipboard-check'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Solicitudes</div>
                                </div>
                                <!-- Registro producto -->
                                <div style="cursor: pointer;" routerLink="/registro-productos"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:cube'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Registrar nuevo producto</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Funcionario -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6" *ngIf="panelFuncionario">
        <div class="w-full max-w-screen-xl mx-auto">
            <!-- Tabs -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Usuarios -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Usuarios</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">{{
                            estadisticas?.usuarios }}</div>
                        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Usuarios activos</div>
                    </div>
                </div>
                <!-- Solicitudes -->
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Solicitudes</div>
                    </div>
                    <div class="flex flex-col items-center mt-2">
                        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-green-500">{{
                            estadisticas?.solicitudes }}</div>
                        <div class="text-lg font-medium text-green-600 dark:text-green-500">Solicitudes
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0 pr-5 pl-5 pb-5">
                <!-- Github issues summary -->
                <div
                    class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    <div class="flex flex-col sm:flex-row items-start justify-between">
                        <div class="text-lg font-medium tracking-tight leading-6 truncate">Gestión general</div>
                    </div>
                    <div class="grid grid-cols-1 grid-flow-row gap-6 w-full mt-8 sm:mt-2">
                        <!-- Overview -->
                        <div class="flex flex-col">
                            <div class="flex-auto grid grid-cols-4 gap-5 mt-6">
                                <!-- Needs triage -->
                                <div style="cursor: pointer;" routerLink="/gestion-solicitudes"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:clipboard-check'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Solicitudes</div>
                                </div>
                                <!-- Registro producto -->
                                <div style="cursor: pointer;" routerLink="/registro-productos"
                                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 hover:shadow-xl transition-shadow duration-150 ease-in-out">
                                    <div class="text-5xl font-semibold leading-none tracking-tight">
                                        <mat-icon class="icon-size-10" [svgIcon]="'heroicons_outline:cube'">
                                        </mat-icon>
                                    </div>
                                    <div class="mt-1 text-sm font-medium text-center">Registrar nuevo producto</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



</div>
